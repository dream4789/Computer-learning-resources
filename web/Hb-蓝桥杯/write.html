<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.3.3/dist/echarts.min.js"></script>
		<style>
			.cen {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
			}
		</style>
		<title></title>
	</head>
	<body>
		<script>
			axios.
		</script>
		<script>
			var str1 = "Mr Blue has a blue house.";
			var re = str1.replaceAll(/blue/g, "red"); // 全局搜索且不区分大小写
			console.log(re); // Mr red has a red house.

			var value = '123-234-234-234'
			var pattern = '-'
			value.replace(pattern, (item, index) => {
				console.log(item, index)
				return '/'
			})

			var value = '123-234-234-234'
			var pattern = '-'
			value = value.replaceAll(pattern, (item, index) => {
				console.log(item, index)
				if (index == 11) return '/'
				else return '+'
			})
			console.log(value)  // 123+234+234/234
		</script>
		<script>
			const http = require('http')
			const server = http.createServer()

			server.on('request', (req, res) => {
				res.setHeader("Content-type", "text/html;charset=utf-8")
				let data = [{
					aa: 11,
					bb: 22,
				}, {
					cc: 33,
					dd: 44,
				}]
				if (req.url == '/new') {
					res.end(JSON.stringify(data))
				} else {
					res.end('404');
				}
				// res.end('hello')
			})
			server.listen(3000, () => {
				console.log('3000启动')
			})


			var mychart = echarts.init(dom, null, {
				renderer: "canvas",
				useDirtyRect: false
			});
			var option = {
				title: {
					text: "xxx"
				},
				legend: {},
				xAxis: {
					type: "category",
					data: [1, 1, 2, 3, 4, 5, ],
				},
				yAxis: {
					type: "value",
					name: "min",
					axisLabel: {
						formatter: "{value}",
					}
				},
				series: [{
					data: [120, 111, 222, 333, 444],
					type: "bar"
				}],

			};
			if (option $$ typeof option === "object") {
				mychart.setOption(option);
			}
			window.addEventListener("resize", myChart.resize)

			// ------------------------------------------------

			function aa() {
				return function() {
					return new Promise((resolve, reject) => {
						setTimeout(() => {
							resolve("asdadsa")
						}, 2000)
					})
				}
			}
		</script>
	</body>
</html>
