<script>
    function execCode(counter) {
        let promise = new Promise((resolve, reject) => {
            // 在执行器中写异步代码
            setTimeout(() => {
                if (counter > 0) {
                    let t = 0;
                    for (let i = 0; i <= counter; i++) {
                        t += i;
                    }
                    // 成功的结果：t
                    resolve(t)
                } else {
                    // 失败了
                    reject(`${counter}有问题`)
                }
            }, 3000)
        })
        return promise;
    }
    
    // promise是一个对象  对象中有一个方法，叫then
    // 通过then方法，就可以得到成功的或失败的结果
    // then需要传递两个回调函数，如果promise成功了，调第1个回调函数
    // 如果promise失败了，调用第2个回调函数
    // 调第1个，这个回调函数的参数，就是成功的结果 
    // 调第2个，这个回调函数的参数，就是失败的结果
    let promise = execCode(-100);
    promise.then((value)=>{
        console.log("成功的结果：",value);
    },(reason)=>{
        console.log("失败的结果：", reason);
    })
</script>