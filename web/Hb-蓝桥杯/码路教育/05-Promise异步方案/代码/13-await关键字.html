<!-- <script>
    // SyntaxError: await is only valid in async functions and the top level bodies of modules
    // function fn(){
    //     await 123;
    // }
    // fn();


    // await注意点：
    //  1）必须写在async函数中
    //  2）await后面，一般是跟promise
    //  3）await前面，可以获取promise成功后的结果，如果是普通值，普通值会作为成功promise的结果
    async function fn() {
        let res = await 123;
        console.log(res);
    }
    fn();
</script> -->

<!-- <script>
    function bar(){
        return new Promise((resolve,reject)=>{
            setTimeout(()=>{
                resolve("包包")
            },2000)
        })
    }

    async function foo(){
        // await后面跟了一个promise
        // await后面跟promise，await前面是成功结果，await下面的代码相当于.then
        let res1 = await bar();
        console.log("res1:",res1);

        let res2 = await bar();
        console.log("res2:",res2);
    }

    foo();
</script> -->

<!-- <script>
    function bar() {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                // resolve("包包")
                reject("没钱")
            }, 2000)
        })
    }

    async function foo() {
        // bar().then(res=>{
        //     console.log("res:",res);
        // }).catch(err=>{
        //     console.log("err:",err);
        // })

        try {
            let res = await bar();
            console.log("res:", res);
        } catch (err) {
            console.log("err:", err);
        }
    }

    foo();
</script> -->

<script>
    function requestData(url) {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                resolve(url)
                // reject("error message")
            }, 2000);
        })
    }
    // await后面跟promise
    // await前面得到成功的promise的结果
    // await下面就可以使用成功的结果  相当于then 
    // await等待的意思  让我们处理异步像同步代码一样
    async function getData() {
        const res1 = await requestData("001")
        console.log("res1:", res1)
        const res2 = await requestData(res1)
        console.log("res2:", res2)
        const res3 = await requestData(res2)
        console.log("res3:", res3)
        return res3
    }
    getData().then(res => {
        console.log(res);
    })
</script>