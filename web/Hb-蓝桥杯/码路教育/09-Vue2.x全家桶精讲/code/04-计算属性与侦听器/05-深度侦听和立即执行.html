<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<title>Document</title>
		<script src="../lib/vue2.7.8.js"></script>
	</head>

	<body>
		<div class="app">
			<h1>{{name}}</h1>
			<span>a.b.c:{{a.b.c}}</span>
			<button @click="a.b.c++">+</button>
			<span>a.d:{{a.d}}</span>
			<button @click="a.d++">+</button>
			<p>{{a.b.ok}}</p>
		</div>

		<script>
			let vm = new Vue({
				el: ".app",
				data() {
					return {
						name: "aaa",
						a: {
							b: {
								c: 100,
								ok: "malu"
							},
							d: 200
						}
					}
				},
				watch: {
					// a(){
					//     console.log("i love you~");
					// }

					a: {
						deep: true, // 深度侦听
						immediate: true, // 一上来，就执行一次侦听器
						handler() {
							// console.log("i love you~");

							// 在侦听器中可以写异步代码
							setTimeout(() => {
								this.a.b.ok = "aaa"
							}, 2000)
						}
					}
				}
			});
		</script>
	</body>

</html>
