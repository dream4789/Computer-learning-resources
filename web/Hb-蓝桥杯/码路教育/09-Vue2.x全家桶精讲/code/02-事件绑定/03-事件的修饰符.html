<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<title>Document</title>
		<script src="../lib/vue2.7.8.js"></script>
		<style>
			div.outeer {
				margin: 10px;
				padding: 30px;
				width: 150px;
				height: 100px;
				background-color: bisque;
			}

			div.middle {
				padding: 30px;
				width: 90px;
				height: 40px;
				background-color: azure;
			}
		</style>
	</head>

	<body>
		<div class="app">
			<h1>{{name}}</h1>

			<!-- form表单,a标签,鼠标右击都有默认事件
			利用事件修饰符,也可以阻止默认事件 -->

			<!-- prevent等同于js中的event.preventDefault()，防止执行预设的行为 -->
			<!-- （如果事件可取消，则取消该事件，而不停止事件的进一步传播） -->
			<form action="http://www.baidu.com">
				<button @click.prevent="handle">prevent 取消form的提交事件</button>
			</form>
			<a href="https://www.baidu.com" @click.prevent="handle">百度</a>

			<hr>

			<!-- stop等同于js中的event.stopPropagation()，防止事件冒泡 -->
			<div class="outeer" @click="outer">
				<div class="middle" @click="middle">
					<button @click="inner">点击事件冒泡</button>
				</div>　　
			</div>
			<div class="outeer" @click.stop="outer">
				<div class="middle" @click.stop="middle">
					<button @click.stop="inner">stop 阻止冒泡事件</button>
				</div>　　
			</div>

			<hr>

			<!-- capture 修饰符和.stop刚好相反。 -->
			<!-- capture 类似js的事件捕获，是由外到内的 -->
			<div class="outeer" @click.capture="outer">
				<div class="middle" @click.capture="middle">
					<button @click.capture="inner">capture 事件捕获</button>
				</div>
			</div>

			<hr>

			<!-- self 修饰符.self只会触发自己范围内的事件，不会包含子元素 -->
			<div class="outeer" @click.self="outer">
				<div class="middle" @click.self="middle">
					<button @click.self="inner">self 触发自己范围内</button>
				</div>
			</div>

			<hr>
			<!-- once表示一次性绑定 -->
			<button @click.once="handle1">once 只触发一次</button>

			<!-- 
            修饰符可以连接用:了解
                @click.stop.prevent.once
                @click.once.stop.prevent
         -->
		</div>

		<script>
			let vm = new Vue({
				el: ".app",
				data() {
					return {
						name: "aaa"
					}
				},
				methods: {
					handle(e) {
						// 用事件对象阻阻止默认事件
						// e.preventDefault(); 
						console.log("未提交");
					},
					handle1() {
						console.log("once一次");
					},

					inner: function(e) {
						// 利用事件对象阻止冒泡
						// e.stopPropagation();
						console.log('inner:这是最里面的Button');
					},
					middle: function(e) {
						// 利用事件对象阻止冒泡
						// e.stopPropagation();
						console.log('middle:这是中间的Div');
					},
					outer: function(e) {
						// 利用事件对象阻止冒泡
						// e.stopPropagation();
						console.log('outer:这是外面的Div');
					}
				}
			});
		</script>
	</body>

</html>
