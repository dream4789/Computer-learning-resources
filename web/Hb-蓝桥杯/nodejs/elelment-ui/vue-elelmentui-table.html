<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>element-ui table</title>
		<!-- 引入样式 -->
		<link rel="stylesheet" href="./element-ui-2.15.10/index.css" />
		<script src="./js/vue.min.js"></script>
		<script src="./js/http-vue-loader.js"></script>
		<!-- 引入组件库 -->
		<script src="./element-ui-2.15.10/index.js"></script>
	</head>
	<body>
		<div id="app">
			<template>
				<!-- :data，引用的数据 -->
				<!-- stripe，创建带斑马纹的表格 -->
				<!-- border，添加竖直方向的边框的 -->
				<!-- height，实现固定表头的表格 -->
				<!-- max-height="250"，数据量动态变化时，可以为 Table 设置一个最大高度 -->

				<!-- width，表格宽度 -->
				<!-- fixed，固定列，每列需要设置宽度 -->
				<!-- prop，对应数据 -->
				<!-- label，表头名称 -->


				<el-table :data="tableData" stripe border height="200" style="width: 100%">
					<el-table-column fixed prop="date" label="日期" width="180"></el-table-column>
					<el-table-column prop="name" label="姓名" width="180"></el-table-column>
					<el-table-column prop="address" label="地址" width="500"></el-table-column>
				</el-table>
			</template>

			<h2>多级表头</h2>
			<template>
				<el-table :data="tableData3" style="width: 100%">
					<el-table-column prop="date" label="日期" width="150"></el-table-column>
					<el-table-column label="配送信息">
						<el-table-column prop="name" label="姓名" width="120"></el-table-column>
						<el-table-column label="地址">
							<el-table-column prop="province" label="省份" width="120"></el-table-column>
							<el-table-column prop="city" label="市区" width="120"></el-table-column>
							<el-table-column prop="address" label="地址" width="300"></el-table-column>
							<el-table-column prop="zip" label="邮编" width="120"></el-table-column>
						</el-table-column>
					</el-table-column>
				</el-table>
			</template>

			Table 组件提供了单选的支持，只需要配置 highlight-current-row 属性即可实现单选。
			之后由current-change事件来管理选中时触发的事件，它会传入currentRow，oldCurrentRow。
			如果需要显示索引，可以增加一列el-table-column，设置type属性为index即可显示从 1 开始的索引号。


			<template>
				<el-table ref="singleTable" :data="tableData" highlight-current-row
					@current-change="handleCurrentChange" style="width: 100%">
					<el-table-column type="index" width="50"></el-table-column>
					<el-table-column property="date" label="日期" width="120"></el-table-column>
					<el-table-column property="name" label="姓名" width="120"></el-table-column>
					<el-table-column property="address" label="地址"></el-table-column>
				</el-table>
				<div style="margin-top: 20px">
					<el-button @click="setCurrent(tableData[1])">选中第二行</el-button>
					<el-button @click="setCurrent()">取消选择</el-button>
				</div>
			</template>


			实现多选非常简单: 手动添加一个el-table-column，设type属性为selection即可；
			默认情况下若内容过多会折行显示，若需要单行显示可以使用show-overflow-tooltip属性，
			它接受一个Boolean，为true时多余的内容会在 hover 时以 tooltip 的形式显示出来。

			<template>
				<el-table ref="multipleTable" :data="tableData" tooltip-effect="dark" style="width: 100%"
					@selection-change="handleSelectionChange">
					<el-table-column type="selection" width="55"></el-table-column>
					<el-table-column prop="date" label="日期" width="120">
						<!-- <template slot-scope="scope">{{ scope.row.date }}</template> -->
					</el-table-column>
					<el-table-column prop="name" label="姓名" width="120"></el-table-column>
					<el-table-column prop="address" label="地址" show-overflow-tooltip></el-table-column>
				</el-table>
				<div style="margin-top: 20px">
					<el-button @click="toggleSelection([tableData[1], tableData[2]])">切换第二、第三行的选中状态</el-button>
					<el-button @click="toggleSelection()">取消选择</el-button>
				</div>
			</template>

		</div>
	</body>
	<script type="text/javascript">
		Vue.use(httpVueLoader);
		var vm = new Vue({
			el: "#app",
			data() {
				return {
					tableData: [{
						date: '2016-05-02',
						name: '王小虎',
						address: '上海市普陀区金沙江路 1518 弄'
					}, {
						date: '2016-05-04',
						name: '王小虎',
						address: '--------------------------------------------------------------------------------------------------------------上海市普陀区金沙江路 1517 弄'
					}, {
						date: '2016-05-01',
						name: '王小虎',
						address: '上海市普陀区金沙江路 1519 弄'
					}, {
						date: '2016-05-03',
						name: '王小虎',
						address: '上海市普陀区金沙江路 1516 弄'
					}],

					tableData3: [{
						date: '2016-05-03',
						name: '王小虎',
						province: '上海',
						city: '普陀区',
						address: '上海市普陀区金沙江路 1518 弄',
						zip: 200333
					}, {
						date: '2016-05-02',
						name: '王小虎',
						province: '上海',
						city: '普陀区',
						address: '上海市普陀区金沙江路 1518 弄',
						zip: 200333
					}],

					multipleSelection: []
				}
			},
			methods: {
				setCurrent(row) { // 单选
					console.log('单击1');
					this.$refs.singleTable.setCurrentRow(row);
				},
				handleCurrentChange(row) { // 单选
					console.log('单击2', row);
					this.currentRow = row;
				},
				toggleSelection(rows) { // 多选
					if (rows) {
						rows.forEach(row => {
							this.$refs.multipleTable.toggleRowSelection(row);
						});
					} else {
						this.$refs.multipleTable.clearSelection();
					}
				},
				handleSelectionChange(val) { // 多选
					this.multipleSelection = val;
				}
			}
		});
	</script>
</html>
