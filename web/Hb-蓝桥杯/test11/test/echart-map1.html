<!--
	此示例下载自 https://echarts.apache.org/examples/zh/editor.html?c=geo-svg-scatter-simple
-->
<!DOCTYPE html>
<html lang="zh-CN" style="height: 100%">
  <head>
    <meta charset="utf-8">
  </head>
  <body style="height: 100%; margin: 0">
    <div id="container" style="height: 100%"></div>

    <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/jquery"></script>
    <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.4.2/dist/echarts.min.js"></script>
    <!-- Uncomment this line if you want to dataTool extension
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.4.2/dist/extension/dataTool.min.js"></script>
  -->
    <!-- Uncomment this line if you want to use gl extension
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js"></script>
  -->
    <!-- Uncomment this line if you want to echarts-stat extension
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts-stat@latest/dist/ecStat.min.js"></script>
  -->
    <!-- Uncomment this line if you want to use map
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@4.9.0/map/js/china.js"></script>
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@4.9.0/map/js/world.js"></script>
  -->
    <!-- Uncomment these two lines if you want to use bmap extension
  <script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=YOUR_API_KEY"></script>
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.4.2/dist/extension/bmap.min.js"></script>
  -->

    <script type="text/javascript">
      var dom = document.getElementById('container');
      var myChart = echarts.init(dom, null, {
        renderer: 'canvas',
        useDirtyRect: false
      });
      var app = {};
      var ROOT_PATH = 'https://echarts.apache.org/examples';
      var option;

      $.get(ROOT_PATH + '/data/asset/geo/Map_of_Iceland.svg', function(svg) {
        echarts.registerMap('iceland_svg', {
          svg: svg
        });
        option = {
          tooltip: {},
          geo: {
            tooltip: {
              show: true
            },
            map: 'iceland_svg',
            roam: true
          },
          series: {
            type: 'effectScatter',
            coordinateSystem: 'geo',
            geoIndex: 0,
            symbolSize: function(params) {
              return (params[2] / 100) * 15 + 5;
            },
            itemStyle: {
              color: '#b02a02'
            },
            encode: {
              tooltip: 2
            },
            data: [
              [488.2358421078053, 459.70913833075736, 100],
              [770.3415644319939, 757.9672194986475, 30],
              [1180.0329284196291, 743.6141808346214, 80],
              [894.03790632245, 1188.1985153835008, 61],
              [1372.98925630313, 477.3839988649537, 70],
              [1378.62251255796, 935.6708486282843, 81]
            ]
          }
        };
        myChart.setOption(option);
        myChart.getZr().on('click', function(params) {
          var pixelPoint = [params.offsetX, params.offsetY];
          var dataPoint = myChart.convertFromPixel({
            geoIndex: 0
          }, pixelPoint);
          console.log(dataPoint);
        });
      });

      if (option && typeof option === 'object') {
        myChart.setOption(option);
      }

      window.addEventListener('resize', myChart.resize);
    </script>
  </body>
</html>
