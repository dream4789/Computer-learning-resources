<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		1、案例一<br>
		<script>
			function f1() {
				var num = 10;
				num++;
				console.log(num);
			}
			//运行结果是？
			// f1()  // 11
			// f1()  // 11			
			// f1()  // 11
		</script>
		如何实现累加？-闭包
		<script>
			function f2() {
				var num = 10;
				return function() {
					num++;
					return num;
				}
			}
			// var ff = f2();
			// console.log(ff());
			// console.log(ff());
			// console.log(ff());
		</script>
		<hr>
		2、案例二：下来3个按钮，点击其中一个，提示"点击的是第n个按钮"：<br>
		<button>桔子1</button>
		<button>苹果2</button>
		<button>梨子3</button>
		<script>
			//html5 通过css选择器获得页面元素
			var btns = document.querySelectorAll('button');
			// for (var i = 0; i < btns.length; i++) {
			// 	btns[i].index = i+1;  // 需要记录信息
			// 	// 注册事件方法
			// 	btns[i].onclick = function() {
			// 		// alert("点击了第"+ (i + 1)+ "个按钮");
			// 		alert("点击了第"+ this.index+ "个按钮");
			// 	}
			// }

			//闭包来获得按钮的索引
			
			for (var i = 0; i < btns.length; i++) {
				// 4个立即执行函数
				(function(n){
					// alert(n);
					btns[n].onclick = function() {
						alert("点击了第"+ (n + 1)+ "个按钮");
					}
				})(i);
				
			}
			
			
			
			
		</script>

	</body>
</html>
